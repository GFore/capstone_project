(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,a){e.exports=a(53)},51:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(21),o=a.n(r),i=a(2),l=a(3),u=a(5),c=a(4),m=a(6),d=a(55),h=a(56),p=a(54),v=function(e){return s.a.createElement("form",{className:"login-form",name:"login-form",method:"POST",action:"/api/user/login/",onSubmit:function(t){e.submit(t)}},s.a.createElement("label",null,"Username:",s.a.createElement("input",{required:!0,name:"username",className:"input",type:"text",onChange:function(t){e.newUserName(t.target.value)},value:e.inputUserName,id:"resetUsername"})),s.a.createElement("br",null),s.a.createElement("label",null,"Password:",s.a.createElement("input",{required:!0,name:"password",className:"input",type:"text",onChange:function(t){e.newPassword(t.target.value)},value:e.inputPassword,id:"resetPassword"})),s.a.createElement("br",null),s.a.createElement("input",{className:"input-submit",type:"submit",value:"Login"}),s.a.createElement("br",null),s.a.createElement("div",{classname:"btn-group"},s.a.createElement(p.a,{to:"/register"},s.a.createElement("button",{className:"btn",type:"submit",value:"submit"},"Register")),s.a.createElement(p.a,{to:"/#"},s.a.createElement("button",{className:"btn",type:"submit",value:"submit"},"Sign in as Guest"))))},g=a(8),f=a.n(g),E=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(c.a)(t).call(this,e)))._userName=function(e){a.setState({username:e})},a._password=function(e){a.setState({password:e})},a._onSubmit=function(e){e.preventDefault(),f.a.post("/api/user/login",a.state).then(function(e){"Invalid Username"===e.data||"Invalid Password"===e.data?(alert("Incorrect Username or Password. Please re-enter correct Username or Password"),document.getElementById("resetUsername").value="",document.getElementById("resetPassword").value=""):a.props.history.push("/timer")})},a.state={theUser:[],isLoggedIn:Boolean,username:"",password:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/user/isValid").then(function(e){return e.json()}).then(function(t){console.log(t),console.log("LOGIN-STATUS:",t.isLoggedIn),!1===t.isLoggedIn?e.props.history.push("/"):(e.setState({theUser:t.user,isLoggedIn:t.isLoggedIn}),e.props.history.push("/timer"))})}},{key:"render",value:function(){return s.a.createElement("section",{className:"section-login"},s.a.createElement("div",{className:"title"},s.a.createElement("h2",null,"Login")),s.a.createElement(v,{inputUserName:this.state.username,newUserName:this._userName,inputPassword:this.state.password,newPassword:this._password,submit:this._onSubmit}))}}]),t}(n.Component),b=function(e){var t="Avatar"===e.name?s.a.createElement("option",null,"Select a Avatar"):s.a.createElement("option",{value:e.avatarSelection},"Something messed up is you see this"),a=e.avatarData.map(function(e,t){return s.a.createElement("option",{key:t,value:e.img},e.name)});return s.a.createElement("label",null,e.name,s.a.createElement("select",{name:e.name,value:e.avatarSelection,onChange:function(t){return e.handleAvatar(t)}},t,a))},w=function(e){return s.a.createElement("form",{className:"register-form",method:"POST",action:"/api/user/register/",onSubmit:function(t){e.submit(t)}},s.a.createElement("label",null,"Name:",s.a.createElement("input",{required:!0,className:"input",type:"text",name:"name",onChange:function(t){e.newName(t.target.value)},value:e.inputName,id:"resetRegisterName"})),s.a.createElement("br",null),s.a.createElement("label",null,"UserName:",s.a.createElement("input",{required:!0,className:"input",type:"text",onChange:function(t){e.newUserName(t.target.value)},value:e.inputUserName,id:"resetRegisterUsername"})),s.a.createElement("br",null),s.a.createElement("label",null,"Password:",s.a.createElement("input",{required:!0,className:"input",type:"text",onChange:function(t){e.newPassword(t.target.value)},value:e.inputPassword,id:"resetRegisterPassword"})),s.a.createElement("br",null),s.a.createElement(b,{name:"Avatar",avatarData:e.avatarData,avatarSelection:e.avatarSelection,avatarId:e.avatarId,handleAvatar:e.handleAvatar}),s.a.createElement("br",null),s.a.createElement("input",{className:"input-submit",type:"submit",value:"Register"}),s.a.createElement("br",null),s.a.createElement(p.a,{to:"/"},s.a.createElement("button",{className:"btn",type:"submit",value:"submit"},"Log In")),s.a.createElement(p.a,{to:"/#"},s.a.createElement("button",{className:"btn",type:"submit",value:"submit"},"Sign in as Guest")))},y=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(c.a)(t).call(this,e)))._name=function(e){e.match(/[a-z,A-Z]/)?a.setState({name:e}):(document.getElementById("resetRegisterName").value="",alert("Please input alphabet characters only"))},a._userName=function(e){e.match(/[0-9,a-z,A-Z]/)?a.setState({username:e}):(alert("Please input alphanumeric characters only"),document.getElementById("resetRegisterUsername").value="")},a._password=function(e){a.setState({password:e})},a._onSubmit=function(e){e.preventDefault(),console.log(a.state),f.a.post("/api/user/register",a.state).then(function(e){"Username exist"===e.data?(alert("Username already exist. Please choose another username"),document.getElementById("resetRegisterName").value="",document.getElementById("resetRegisterUsername").value="",document.getElementById("resetRegisterPassword").value="",document.getElementById("resetRegisterAvatar").value=""):a.props.history.push("/timer")})},a._handleAvatar=function(e){e.preventDefault();var t=e.target.value;a.state.avatarData.forEach(function(e){t===e.img&&a.setState({avatar:t,avatarSelection:t,avatarId:e.id})})},a.state={theUser:[],isLoggedIn:Boolean,name:"",username:"",password:"",avatar:"",avatarData:[],avatarSelection:"Select",avatarId:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/user/isValid").then(function(e){return e.json()}).then(function(t){console.log("LOGIN-STATUS:",t.isLoggedIn),!0===t.isLoggedIn&&(e.setState({theUser:t.user,isLoggedIn:t.isLoggedIn}),e.props.history.push("/timer"))}).then(fetch("/api/avatar").then(function(e){return e.json()}).then(function(t){e.setState({avatarData:t})}))}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h2",null,"Register"),s.a.createElement(w,{inputName:this.state.name,newName:this._name,inputUserName:this.state.username,newUserName:this._userName,inputPassword:this.state.password,newPassword:this._password,inputAvatar:this.state.avatar,submit:this._onSubmit,name:"Avatar",avatarData:this.state.avatarData,avatarSelection:this.state.avatarSelection,avatarId:this.state.avatarId,handleAvatar:this._handleAvatar}))}}]),t}(n.Component),S=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={date:"",time:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.intervalID=setInterval(function(){e.tick()},1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalID)}},{key:"tick",value:function(){var e=(new Date).getHours(),t=(new Date).getMinutes(),a=(new Date).getSeconds(),n=(e=e<10?"0"+e:e)+":"+(t=t<10?"0"+t:t)+":"+(a=a<10?"0"+a:a);this.setState({date:(new Date).toLocaleDateString(),time:n})}},{key:"render",value:function(){return s.a.createElement("div",{className:"App-clock"},this.state.time)}}]),t}(n.Component),I=function(e){var t="Level"!==e.name?s.a.createElement("option",{value:e.levelList},"Select a Level"):s.a.createElement("option",{value:e.levelSelection},"WRONG"),a=[];e.levelList.forEach(function(t){e.categoryId!==t.id_category||a.includes(t.level)||a.push(t.level)});var n=a.map(function(e,t){return s.a.createElement("option",{key:t,value:e},e)});return s.a.createElement("div",null,s.a.createElement("label",null,e.name,":",s.a.createElement("select",{value:e.levelSelection,onChange:function(t){return e.handleLevel(t)}},t,n)),s.a.createElement(p.a,{to:"/question/".concat(e.categoryId,"/").concat(e.levelSelection)},function(){if(e.showButton)return s.a.createElement("div",null,s.a.createElement("button",null,"Click to continue!"))}()))},N=function(e){var t="Category"===e.name?s.a.createElement("option",null,"Select a Category"):s.a.createElement("option",{value:e.categorySelection},"Something messed up is you see this"),a=e.categoryList.map(function(e,t){return s.a.createElement("option",{key:t,value:e.category_type},e.category_type)});return s.a.createElement("div",null,s.a.createElement("label",null,e.name,":",s.a.createElement("select",{name:e.name,value:e.categorySelection,onChange:function(t){return e.handleChange(t)}},t,a)),function(){if(!0===e.showLevel)return s.a.createElement("div",null,s.a.createElement(I,{name:"Levels",levelList:e.levelList,handleLevel:e.handleLevelSelect,levelSelection:e.levelSelection,categoryId:e.categoryId,categorySelection:e.categorySelection,showButton:e.showButton}))}())},_=function(e){return s.a.createElement("a",{href:"/",onClick:function(t){e.logout(t)}},"Logout")},U=function(e){return s.a.createElement("header",{className:"navbar"},s.a.createElement(p.a,{to:"/myaccount",className:"links"},"MyAccount"),s.a.createElement("br",null),s.a.createElement(_,{logout:e.handleLogout,thisUser:e.userInfo,inSession:e.inSession}))},L=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(c.a)(t).call(this,e)))._handleSelect=function(e){var t=a.state.categories.filter(function(t){return e.target.value===t.category_type})[0];a.setState({categoryId:t.id,categorySelection:e.target.value,showLevel:!0,showButton:!1})},a._handleLevelSelect=function(e){a.setState({levelSelection:e.target.value,showButton:!0})},a._handleLogout=function(e){a.setState({inSession:!1}),f.a.post("/api/user/logout").then(function(e){"Successfully logged out"===e.data.message&&a.props.history.push("/")})},a.state={theUser:[],isLoggedIn:Boolean,categories:[],level:[],categorySelection:"Select",levelSelection:"Select",categoryId:"",levelId:"",showLevel:!1,showButton:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/user/isValid").then(function(e){return e.json()}).then(function(t){!1===t.isLoggedIn?e.props.history.push("/"):e.setState({theUser:t.user,isLoggedIn:t.isLoggedIn}),fetch("/api/categories/".concat(t.user.id)).then(function(e){return e.json()}).then(function(t){e.setState({categories:t}),fetch("/api/questions/".concat(e.state.theUser.id)).then(function(e){return e.json()}).then(function(t){e.setState({level:t})})})})}},{key:"render",value:function(){console.log(this.state.theUser.avatar);var e=this.state.theUser;return console.log(e),console.log("LOGIN-STATUS:",this.state.isLoggedIn),s.a.createElement("div",null,s.a.createElement(U,{user:e,inSession:this.state.isLoggedIn,handleLogout:this._handleLogout}),s.a.createElement(S,null),s.a.createElement(N,{name:"Category",categoryList:this.state.categories,handleChange:this._handleSelect,categorySelection:this.state.categorySelection,categoryId:this.state.categoryId,levelList:this.state.level,handleLevelSelect:this._handleLevelSelect,levelSelection:this.state.levelSelection,showLevel:this.state.showLevel,showButton:this.state.showButton,userInfo:this._userInfo,inSession:this.state.isLoggedIn}))}}]),t}(n.Component),A=function(e){return s.a.createElement("form",{className:"answer-form",method:"POST",action:"/api/result/create",onSubmit:function(t){t.preventDefault(),e.handleSubmit(e.userInput)},id:"resetAnswer"},s.a.createElement("input",{id:"answerInput",required:!0,className:"input",type:"text",placeholder:"What is your answer?",onChange:function(t){e.userAnswer(t.target.value)},value:e.userInput}),s.a.createElement("input",{id:"id_resultset",name:"id_resultset",type:"hidden",value:e.resultset_id}),s.a.createElement("input",{id:"id_question",name:"id_question",type:"hidden",value:e.questionId}),s.a.createElement("input",{className:"input-submit",type:"submit",value:"submit",onClick:e.click}))},j=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(c.a)(t).call(this,e)))._submit=function(e){console.log(e),console.log(a.state.resultset_id),console.log(a.props.questionId),a.props.questionAnswer===e?f.a.post("/api/result/create",{correct:!0,id_question:a.props.questionId,id_resultset:a.state.resultset_id}).then(function(e){console.log(e),document.getElementById("answerInput").value=""}):f.a.post("/api/result/create",{correct:!1,id_question:a.props.questionId,id_resultset:a.state.resultset_id}).then(function(e){console.log(e),document.getElementById("answerInput").value=""})},a._handleInputAnswer=function(e){a.setState({userInput:e})},a._isCorrect=function(e){a.setState({correct:e})},a.state={userInput:"",correct:Boolean,resultset_id:"100"},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/user/isValid").then(function(e){return e.json()}).then(function(t){console.log("LOGIN-STATUS:",t.isLoggedIn),!1===t.isLoggedIn?e.props.history.push("/"):e.setState({theUser:t.user,isLoggedIn:t.isLoggedIn})})}},{key:"render",value:function(){return s.a.createElement(A,{userInput:this.state.userInput,questionResult:this.state.correct,userAnswer:this._handleInputAnswer,answerResult:this._isCorrect,handleSubmit:this._submit,questionId:this.props.questionId,questionAnswer:this.props.questionAnswer,resultset_id:this.state.resultset_id,click:this.props.click})}}]),t}(n.Component),O=function(e){var t=e.displayQuestion,a=e.questionId,n=e.questionAnswer;return console.log("Answer:",n),s.a.createElement("div",null,t,s.a.createElement(j,{questionAnswer:n,questionId:a,alreadyAnswered:e.alreadyAnswered,click:e.click}))},k=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(c.a)(t).call(this,e)))._handleClick=function(){a.componentDidMount()},a._howManyQuestions=function(){a.alreadyAnswered.length<=6?(a.alreadyAnswered.push(a.questionId),window.location.reload(),console.log("Keep answering")):console.log("No more questions")},a.state={theUser:[],isLogged:Boolean,question:[],questionId:"",displayQuestion:"",questionAnswer:"",alreadyAnswered:[]},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/user/isValid").then(function(e){return e.json()}).then(function(t){console.log(t.isLoggedIn),!1===t.isLoggedIn?e.props.history.push("/"):e.setState({theUser:t.user,isLoggedIn:t.isLoggedIn})}).then();var t=this.props.match.params.categoryId,a=this.props.match.params.levelSelection;fetch("/api/question/".concat(t,"/").concat(a)).then(function(e){return e.json()}).then(function(t){var a=[],n=[],s=[];(function(e){for(var t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[a],e[a]=n}return e})(t).forEach(function(e){a.push(e.question),n.push(e.answer),s.push(e.id)});var r=s[0],o=a[0],i=n[0];e.setState({question:t,displayQuestion:o,questionId:r,questionAnswer:i})})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(S,null),s.a.createElement(O,{all:this.state.question,displayQuestion:this.state.displayQuestion,questionId:this.state.questionId,questionAnswer:this.state.questionAnswer,alreadyAnswered:this.state.alreadyAnswered,click:this._handleClick}))}}]),t}(n.Component),q=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={theUser:[],isLoggedIn:Boolean},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/user/isValid").then(function(e){return e.json()}).then(function(t){!1===t.isLoggedIn?e.props.history.push("/"):e.setState({theUser:t.user,isLoggedIn:t.isLoggedIn})})}},{key:"render",value:function(){console.log(this.state.theUser);var e=this.state.theUser,t=e.username;return console.log(t),s.a.createElement("div",null,s.a.createElement("h2",null,"MyAccount"),s.a.createElement(p.a,{to:{pathname:"/settings",state:{thisUser:e}},className:"links"},"Settings"),s.a.createElement("h3",null,"".concat(t,"'s Results ")))}}]),t}(n.Component),D=function(e){return s.a.createElement("form",{className:"update-form",method:"POST",action:"/api/user/userId",onSubmit:function(t){e.submit(t)}},s.a.createElement("label",null,"Name:",s.a.createElement("input",{id:"updatedName",name:"name",className:"input",type:"text",onChange:function(t){e.inputName(t.target.value)},value:e.newName})),s.a.createElement("br",null),s.a.createElement("label",null,"Username:",s.a.createElement("input",{id:"updatedUserName",name:"username",className:"input",type:"text",onChange:function(t){e.inputUsername(t.target.value)},value:e.newUsername})),s.a.createElement("br",null),s.a.createElement("input",{className:"input-submit",type:"submit",value:"Change username"}))},P=function(e){return s.a.createElement("form",{className:"update-form",method:"POST",action:"/api/user/pwd/userId",onSubmit:function(t){e.passwordSubmit(t)}},s.a.createElement("label",null,"Password:",s.a.createElement("input",{id:"updatedPassword",name:"password",className:"input",type:"text",onChange:function(t){e.inputPassword(t.target.value)},value:e.newPassword})),s.a.createElement("br",null),s.a.createElement("input",{className:"input-submit",type:"submit",value:"Update password"}))},C=function(e){return s.a.createElement("form",{className:"update-form",method:"POST",action:"/api/user/userId",onSubmit:function(t){e.avatarSubmit(t)}},s.a.createElement(b,{name:"Avatar",id:"updatedAvatar",avatarData:e.avatarData,avatarSelection:e.avatarSelection,avatarId:e.avatarId,handleAvatar:e.handleAvatar}),s.a.createElement("br",null),s.a.createElement("input",{className:"input-submit",type:"submit",value:"Change avatar"}))},B=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(c.a)(t).call(this,e)))._updateName=function(e){e.match(/[a-z,A-Z]/)?a.setState({name:e}):(document.getElementById("updateName").value="",alert("Please input alphabet characters only"))},a._updateUsername=function(e){e.match(/[0-9,a-z,A-Z]/)?a.setState({username:e}):(alert("Please input alphanumeric characters only"),document.getElementById("updatedUserName").value="")},a._updatePassword=function(e){a.setState({password:e})},a._updateAvatar=function(e){a.setState({avatar:e})},a._handleAvatar=function(e){e.preventDefault();var t=e.target.value;a.state.avatarData.forEach(function(e){t===e.img&&a.setState({avatar:t,avatarSelection:t,avatarId:e.id})})},a._onSubmit=function(e){e.preventDefault();var t=a.props.location.state.thisUser.id;f.a.post("/api/user/".concat(t),a.state).then(function(e){"Name Updated"!==e.data.name&&"Username Updated"!==e.data.username||(alert("User info updated"),document.getElementById("updatedName").value="",document.getElementById("updatedUserName").value="")})},a._avatarSubmit=function(e){e.preventDefault();var t=a.props.location.state.thisUser.id;f.a.post("/api/user/".concat(t),a.state).then(function(e){"Avatar Updated"===e.data.avatar&&(alert("Avatar updated"),document.getElementById("updatedAvatar").value="Select a Avatar")})},a._pwSubmit=function(e){e.preventDefault();var t=a.props.location.state.thisUser.id,n=a.state.password;f.a.post("/api/user/pwd/".concat(t),{password:n}).then(function(e){!0===e.data&&(alert("Password updated"),document.getElementById("updatedPassword").value="")})},a.state={name:"",username:"",avatar:"",password:"",avatarData:[],avatarSelection:"Select",avatarId:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/avatar").then(function(e){return e.json()}).then(function(t){e.setState({avatarData:t})})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h2",null,"Settings"),s.a.createElement("h4",null,"Change user info"),s.a.createElement(D,{inputName:this._updateName,newName:this.state.name,inputUsername:this._updateUsername,newUsername:this.state.username,submit:this._onSubmit}),s.a.createElement("h4",null,"Update password"),s.a.createElement(P,{theUser:this.props.location.state.thisUser,inputPassword:this._updatePassword,newPassword:this.state.password,passwordSubmit:this._pwSubmit}),s.a.createElement("h4",null,"Change avatar"),s.a.createElement(C,{name:"Avatar",avatarData:this.state.avatarData,avatarSelection:this.state.avatarSelection,avatarId:this.state.avatarId,handleAvatar:this._handleAvatar,inputAvatar:this._updateAvatar,newAvatar:this.state.avatar,avatarSubmit:this._avatarSubmit}),s.a.createElement("h3",null,"Delete account"),s.a.createElement("p",null,"Please rethink your next action."),s.a.createElement("button",null,"Delete this account"))}}]),t}(n.Component),R=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement(d.a,null,s.a.createElement("div",{className:"main"},s.a.createElement("h1",null,"Clock Signal"),s.a.createElement(h.a,{path:"/",exact:!0,component:E}),s.a.createElement(h.a,{path:"/register",component:y}),s.a.createElement(h.a,{path:"/timer",component:L}),s.a.createElement(h.a,{path:"/question/:categoryId/:levelSelection",component:k}),s.a.createElement(h.a,{path:"/myaccount",component:q}),s.a.createElement(h.a,{path:"/settings",component:B}),s.a.createElement(h.a,{path:"/updateUser",component:D}),s.a.createElement(h.a,{path:"/updatePassword",component:P}),s.a.createElement(h.a,{path:"/updateAvatar",component:C})))}}]),t}(n.Component),M=(a(51),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement(R,null))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,2,1]]]);
//# sourceMappingURL=main.dcad8ec1.chunk.js.map